# üìö ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡πÑ‡∏ü‡∏•‡πå Google Apps Script (‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö)

## üìÅ ‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÅ‡∏•‡πâ‡∏ß

‡∏ú‡∏°‡πÑ‡∏î‡πâ‡πÅ‡∏¢‡∏Å Google Apps Script ‡∏≠‡∏≠‡∏Å‡πÄ‡∏õ‡πá‡∏ô **4 ‡πÑ‡∏ü‡∏•‡πå** ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô:

---

## 1. üìÑ `GAS_Main_Combined.js` ‚≠ê ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏£‡∏∞‡∏ö‡∏ö‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß - ‡∏û‡∏£‡πâ‡∏≠‡∏° Deploy ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!

**‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà:** 
- ‚úÖ ‡πÉ‡∏ä‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deploy ‡∏à‡∏£‡∏¥‡∏á‡πÉ‡∏ô Google Apps Script
- ‚úÖ ‡∏°‡∏µ‡∏ó‡∏∏‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏Ñ‡∏£‡∏ö‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß
- ‚úÖ ‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:**
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (Customer) ‡∏û‡∏£‡πâ‡∏≠‡∏° Cache
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏• (Billing) ‡∏û‡∏£‡πâ‡∏≠‡∏° Cache
- ‚úÖ ‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô LINE
- ‚úÖ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏ä‡πâ:**
```
1. Copy ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏Å GAS_Main_Combined.js
2. ‡∏ß‡∏≤‡∏á‡πÉ‡∏ô Google Apps Script Editor
3. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡∏∞ Deploy
4. ‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô!
```

---

## 2. üë• `GAS_Customer_System.js`

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:**
- ‚úÖ `doGet_Customer()` - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‚úÖ `doPost_Customer()` - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‚úÖ `getAllCustomersWithCache()` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏° Cache
- ‚úÖ `addCustomer()` - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‚úÖ `updateCustomer()` - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‚úÖ `deleteCustomer()` - ‡∏•‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- ‚úÖ `normalizePlate()` - Normalize ‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏£‡∏ñ
- ‚úÖ `parseDate()` - ‡πÅ‡∏õ‡∏•‡∏á‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà
- ‚úÖ `testCustomerCache()` - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Cache

**‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà:**
- ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô Customer
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô Customer
- Debug ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ Deploy ‡∏à‡∏£‡∏¥‡∏á (‡πÉ‡∏ä‡πâ `GAS_Main_Combined.js` ‡πÅ‡∏ó‡∏ô)

---

## 3. üí∞ `GAS_Billing_System.js`

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏•

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:**
- ‚úÖ `doGet_Billing()` - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏¥‡∏•
- ‚úÖ `doPost_Billing()` - API ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡∏ö‡∏¥‡∏•
- ‚úÖ `getAllBillsWithCache()` - ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏£‡πâ‡∏≠‡∏° Cache
- ‚úÖ `addBill()` - ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏¥‡∏•
- ‚úÖ `updateBill()` - ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏¥‡∏•
- ‚úÖ `deleteBill()` - ‡∏•‡∏ö‡∏ö‡∏¥‡∏•
- ‚úÖ `testBillingCache()` - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Cache

**‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà:**
- ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô Billing
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô Billing
- Debug ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏ö‡∏¥‡∏•

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ Deploy ‡∏à‡∏£‡∏¥‡∏á (‡πÉ‡∏ä‡πâ `GAS_Main_Combined.js` ‡πÅ‡∏ó‡∏ô)

---

## 4. üì± `GAS_LINE_Notify_System.js`

**‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢:** ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô LINE

**‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:**
- ‚úÖ `sendLineMessage()` - ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ú‡πà‡∏≤‡∏ô LINE Bot
- ‚úÖ `sendAlert()` - ‡∏™‡πà‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏†‡∏≤‡∏©‡∏µ
- ‚úÖ `getNotifyStatus()` - ‡πÄ‡∏ä‡πá‡∏Ñ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- ‚úÖ `updateNotifyStatus()` - ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
- ‚úÖ `checkAndNotifyTaxExpiry()` - ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
- ‚úÖ `testSendLineMessage()` - ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°
- ‚úÖ `setupDailyTrigger()` - ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Auto Trigger

**‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏´‡∏£‡πà:**
- ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô LINE Notify
- ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ACCESS_TOKEN
- Debug ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô

**‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏:** ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÉ‡∏ä‡πâ Deploy ‡∏à‡∏£‡∏¥‡∏á (‡πÉ‡∏ä‡πâ `GAS_Main_Combined.js` ‡πÅ‡∏ó‡∏ô)

---

## üöÄ ‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deploy (‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á)

**‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß:** `GAS_Main_Combined.js`

```
1. ‡πÑ‡∏õ‡∏ó‡∏µ‡πà https://script.google.com
2. ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì
3. ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏Å‡πà‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
4. Copy ‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å GAS_Main_Combined.js
5. Paste ‡πÉ‡∏ô Google Apps Script Editor
6. ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å (Ctrl+S)
7. Deploy ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
```

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÇ‡∏Ñ‡πâ‡∏î

**‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡πà‡∏≤‡∏ô‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö‡∏ó‡∏µ‡πà‡∏™‡∏ô‡πÉ‡∏à:**
- ‡∏≠‡∏¢‡∏≤‡∏Å‡∏î‡∏π Customer ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î `GAS_Customer_System.js`
- ‡∏≠‡∏¢‡∏≤‡∏Å‡∏î‡∏π Billing ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î `GAS_Billing_System.js`
- ‡∏≠‡∏¢‡∏≤‡∏Å‡∏î‡∏π LINE ‚Üí ‡πÄ‡∏õ‡∏¥‡∏î `GAS_LINE_Notify_System.js`

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç

**‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:**
1. ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ (‡πÄ‡∏ä‡πà‡∏ô `GAS_Customer_System.js`)
2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÇ‡∏Ñ‡πâ‡∏î‡πÉ‡∏ô‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
3. Copy ‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô `GAS_Main_Combined.js`
4. Deploy `GAS_Main_Combined.js`

---

## üìä ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÑ‡∏ü‡∏•‡πå

| ‡πÑ‡∏ü‡∏•‡πå | ‡∏Ç‡∏ô‡∏≤‡∏î | ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå | Deploy ‡πÑ‡∏î‡πâ? |
|------|------|-----------|------------|
| `GAS_Main_Combined.js` | ~600 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | **‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á** | ‚úÖ **‡πÉ‡∏ä‡πà** |
| `GAS_Customer_System.js` | ~230 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | ‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà |
| `GAS_Billing_System.js` | ~350 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | ‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà |
| `GAS_LINE_Notify_System.js` | ~200 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î | ‡∏®‡∏∂‡∏Å‡∏©‡∏≤/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | ‚ùå ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà |

---

## üîç ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏Ñ‡πâ‡∏î

### `GAS_Main_Combined.js`

```
========== CONFIG ==========
- SHEET_ID
- ACCESS_TOKEN
- SHEET_NAME_DATA
- SHEET_NAME_BILLING
- SHEET_NAME_FILTER
- CACHE_DURATION
- CACHE_KEY_CUSTOMERS
- CACHE_KEY_BILLING

========== MAIN ROUTING ==========
- doGet()   ‚Üí ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠ GET
- doPost()  ‚Üí ‡∏£‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ç‡∏≠ POST

========== HELPER FUNCTIONS ==========
- getDataSheet()
- normalizePlate()
- parseDate()
- clearCustomerCache()
- clearBillingCache()
- clearAllCache()

========== CUSTOMER SYSTEM ==========
- getAllCustomersWithCache()
- addCustomer()
- updateCustomer()
- deleteCustomer()

========== BILLING SYSTEM ==========
- getAllBillsWithCache()
- addBill()
- updateBill()
- deleteBill()

========== LINE NOTIFY SYSTEM ==========
- sendLineMessage()
- sendAlert()
- getNotifyStatus()
- updateNotifyStatus()
- formatDate()

========== TESTING ==========
- testCache()
```

---

## üß™ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Cache
```javascript
testCache() // ‡∏£‡∏±‡∏ô‡πÉ‡∏ô Google Apps Script Editor
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
```
=== ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Cache ===
‡πÑ‡∏°‡πà‡∏°‡∏µ cache: 2500 ms
‡∏°‡∏µ cache: 150 ms
‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô: 16 ‡πÄ‡∏ó‡πà‡∏≤
```

---

## üìã Checklist ‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
- [ ] ‡∏°‡∏µ Sheet "data" ‡∏û‡∏£‡πâ‡∏≠‡∏° header ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á
- [ ] Deploy `GAS_Main_Combined.js`
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö `?getAll=1`
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏•
- [ ] ‡∏™‡∏£‡πâ‡∏≤‡∏á Sheet "billing" ‡πÉ‡∏´‡∏°‡πà
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ header: ‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ö‡∏¥‡∏•, ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤, ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£, ‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà, ‡∏£‡∏≤‡∏Ñ‡∏≤, ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà, ‡πÄ‡∏ö‡∏≠‡∏£‡πå‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠, ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞, ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏î‡πÄ‡∏á‡∏¥‡∏ô
- [ ] ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏î‡∏™‡∏≠‡∏ö
- [ ] Deploy `GAS_Main_Combined.js`
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö `?getBills=1`
- [ ] ‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤ `/billing`

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô LINE
- [ ] ‡∏°‡∏µ Sheet "sentnotify"
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö ACCESS_TOKEN
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° LINE
- [ ] ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Daily Trigger (optional)

---

## üéØ Quick Start Guide

### ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î:

```
1. Copy ‡πÇ‡∏Ñ‡πâ‡∏î‡∏à‡∏≤‡∏Å GAS_Main_Combined.js
2. Paste ‡πÉ‡∏ô Google Apps Script
3. Deploy
4. ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô! ‚úÖ
```

### ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç:

```
1. ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡πà‡∏≤‡∏ô GAS_Customer_System.js (‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤)
2. ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡πà‡∏≤‡∏ô GAS_Billing_System.js (‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏•)
3. ‡πÄ‡∏õ‡∏¥‡∏î‡∏≠‡πà‡∏≤‡∏ô GAS_LINE_Notify_System.js (‡∏£‡∏∞‡∏ö‡∏ö‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô)
4. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á
5. Copy ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô GAS_Main_Combined.js
6. Deploy GAS_Main_Combined.js
```

---

## üìû API Endpoints Summary

### Customer API
```
GET  ?getAll=1           ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏û‡∏£‡πâ‡∏≠‡∏° cache)
GET  ?getAll=1&refresh=1 ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ cache)
GET  ?check=1&plate=xxx  ‚Üí ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô
POST action=addCustomer  ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
POST action=updateCustomer ‚Üí ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
POST action=deleteCustomer ‚Üí ‡∏•‡∏ö‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
```

### Billing API
```
GET  ?getBills=1           ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏¥‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏û‡∏£‡πâ‡∏≠‡∏° cache)
GET  ?getBills=1&refresh=1 ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏¥‡∏• (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ cache)
POST action=addBill        ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏¥‡∏•
POST action=updateBill     ‚Üí ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏ö‡∏¥‡∏•
POST action=deleteBill     ‚Üí ‡∏•‡∏ö‡∏ö‡∏¥‡∏•
```

---

## üîß ‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡πà‡∏≤ Config

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç Sheet ID
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 6 ‡∏Ç‡∏≠‡∏á `GAS_Main_Combined.js`:
```javascript
const SHEET_ID = "YOUR_SHEET_ID_HERE";
```

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç ACCESS_TOKEN
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 7:
```javascript
const ACCESS_TOKEN = 'YOUR_LINE_TOKEN_HERE';
```

### ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ Cache
‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÉ‡∏ô‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ó‡∏µ‡πà 13:
```javascript
const CACHE_DURATION = 60 * 10; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô 10 ‡∏ô‡∏≤‡∏ó‡∏µ
```

---

## üìñ ‡∏™‡∏£‡∏∏‡∏õ‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ
**‡πÉ‡∏ä‡πâ:** `GAS_Main_Combined.js` ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ô‡∏±‡∏Å‡∏û‡∏±‡∏í‡∏ô‡∏≤
**‡∏≠‡πà‡∏≤‡∏ô:** ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏¢‡∏Å (`GAS_Customer_System.js`, `GAS_Billing_System.js`, `GAS_LINE_Notify_System.js`)  
**Deploy:** `GAS_Main_Combined.js`

---

## ‚úÖ ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏ï‡∏Å‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏°

| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏¥‡∏° | ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏°‡πà (‡πÅ‡∏¢‡∏Å) |
|---------|----------|----------------|
| ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÑ‡∏ü‡∏•‡πå | 1 ‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡∏ç‡πà | 4 ‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏¢‡∏Å |
| Deploy | Deploy ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß | Deploy `GAS_Main_Combined.js` |
| ‡∏≠‡πà‡∏≤‡∏ô‡πÇ‡∏Ñ‡πâ‡∏î | ‡∏¢‡∏≤‡∏Å ‡∏´‡∏≤‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ | ‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏¢‡∏Å‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö |
| ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç | ‡∏¢‡∏∏‡πà‡∏á‡∏¢‡∏≤‡∏Å | ‡∏á‡πà‡∏≤‡∏¢ ‡πÅ‡∏Å‡πâ‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏•‡πá‡∏Å |
| ‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå | ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô | ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô |
| Cache | ‚úÖ ‡∏°‡∏µ | ‚úÖ ‡∏°‡∏µ |

---

## üéâ ‡∏™‡∏£‡∏∏‡∏õ

‚úÖ **‡πÅ‡∏¢‡∏Å‡πÑ‡∏ü‡∏•‡πå‡πÅ‡∏•‡πâ‡∏ß:** 4 ‡πÑ‡∏ü‡∏•‡πå‡∏ï‡∏≤‡∏°‡∏£‡∏∞‡∏ö‡∏ö  
‚úÖ **‡∏á‡πà‡∏≤‡∏¢‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£:** ‡∏≠‡πà‡∏≤‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏á‡πà‡∏≤‡∏¢‡∏Ç‡∏∂‡πâ‡∏ô  
‚úÖ **‡∏û‡∏£‡πâ‡∏≠‡∏° Deploy:** ‡πÉ‡∏ä‡πâ `GAS_Main_Combined.js`  
‚úÖ **‡∏Ñ‡∏£‡∏ö‡∏ó‡∏∏‡∏Å‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå:** Customer + Billing + LINE Notify + Cache  

**‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥:** ‡πÉ‡∏ä‡πâ `GAS_Main_Combined.js` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Deploy ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á!

---

## üìÑ ‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Ç‡πâ‡∏≠‡∏á

1. **Frontend:**
   - `src/lib/useCustomerData.ts` - Hook ‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
   - `src/lib/useBillingData.ts` - Hook ‡∏ö‡∏¥‡∏•
   - `src/app/customer-info/page.tsx` - ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤
   - `src/app/billing/page.tsx` - ‡∏´‡∏ô‡πâ‡∏≤‡∏ö‡∏¥‡∏•

2. **‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠:**
   - `SPEED_OPTIMIZATION_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ Cache
   - `BILLING_SYSTEM_GUIDE.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏£‡∏∞‡∏ö‡∏ö‡∏ö‡∏¥‡∏•
   - `LINE_NOTIFY_SETUP.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠ LINE
   - `‡∏ß‡∏¥‡∏ò‡∏µ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á-‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß.md` - ‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏á‡πà‡∏≤‡∏¢‡πÜ

---

**üéä ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡πÅ‡∏•‡πâ‡∏ß!** ‡πÉ‡∏ä‡πâ‡πÑ‡∏ü‡∏•‡πå `GAS_Main_Combined.js` ‡πÉ‡∏ô Deploy ‡∏Ñ‡∏£‡∏±‡∏ö

