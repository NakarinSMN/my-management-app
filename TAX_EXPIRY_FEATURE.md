# ฟีเจอร์: วันสิ้นอายุภาษีปีถัดไป

## ภาพรวม
ฟีเจอร์ใหม่ที่เพิ่มเข้าไปในระบบจัดการงานบริการ ตรอ.บังรีท่าอิฐ เพื่อช่วยในการติดตามและจัดการข้อมูลลูกค้าที่มีวันสิ้นอายุภาษีในปีถัดไป

## ฟีเจอร์หลัก

### 1. การแสดงรายการลูกค้า
- แสดงรายการลูกค้าทั้งหมดที่มีวันสิ้นอายุภาษีในปีถัดไป
- เรียงลำดับตามจำนวนวันที่เหลือ (จากน้อยไปมาก)
- แสดงข้อมูลสำคัญ: ทะเบียนรถ, ชื่อลูกค้า, เบอร์โทร, วันที่ชำระล่าสุด, วันสิ้นอายุ, จำนวนวันที่เหลือ

### 2. การกรองข้อมูล
- **การค้นหา**: ค้นหาตามทะเบียนรถ, ชื่อลูกค้า, เบอร์โทร
- **กรองตามเดือน**: กรองเฉพาะรายการที่สิ้นอายุในเดือนที่เลือก
- **กรองตามสถานะ**: กรองตามสถานะการต่อภาษี

### 3. สถิติสรุป
แสดงสถิติสำคัญในรูปแบบการ์ด:
- รายการทั้งหมด
- จำนวนรายการที่ใกล้ครบกำหนด (≤ 30 วัน)
- จำนวนรายการที่กำลังจะครบกำหนด (≤ 90 วัน)
- จำนวนรายการที่เกินกำหนด

### 4. การแสดงสถานะ
ระบบจะแสดงสถานะอัตโนมัติตามจำนวนวันที่เหลือ:
- **เกินกำหนด**: จำนวนวันติดลบ
- **ใกล้ครบกำหนด**: ≤ 30 วัน
- **กำลังจะครบกำหนด**: ≤ 90 วัน
- **รอดำเนินการ**: > 90 วัน

## การเข้าถึง

### 1. จากหน้าแดชบอร์ด
- ปุ่ม "วันสิ้นอายุภาษีปีถัดไป" อยู่ที่มุมขวาบนของหน้าแดชบอร์ด
- สีส้มเพื่อให้เด่นชัดและแยกจากฟีเจอร์อื่น

### 2. จากหน้าข้อมูลลูกค้า
- ปุ่ม "วันสิ้นอายุภาษีปีถัดไป" อยู่ที่มุมขวาบนของหน้าข้อมูลลูกค้า
- ช่วยให้ผู้ใช้สามารถสลับระหว่างการดูข้อมูลทั่วไปและข้อมูลเฉพาะปีถัดไป

## การคำนวณวันสิ้นอายุ

### วิธีการคำนวณ
1. ใช้วันที่ชำระภาษีล่าสุดเป็นฐาน
2. คำนวณวันสิ้นอายุในปีถัดไปโดยใช้เดือนและวันที่เดียวกัน
3. คำนวณจำนวนวันที่เหลือจากวันปัจจุบัน

### ตัวอย่าง
- วันที่ชำระล่าสุด: 2024-03-15
- วันสิ้นอายุปีถัดไป: 2025-03-15
- หากวันนี้เป็น 2024-12-01 จะเหลือ 104 วัน

## การใช้งาน

### 1. การดูข้อมูล
1. เข้าสู่หน้า "วันสิ้นอายุภาษีปีถัดไป"
2. ระบบจะแสดงรายการลูกค้าทั้งหมดที่มีวันสิ้นอายุในปีถัดไป
3. ข้อมูลจะเรียงตามจำนวนวันที่เหลือ (เร่งด่วนมาก่อน)

### 2. การค้นหาและกรอง
1. ใช้ช่องค้นหาเพื่อหาลูกค้าเฉพาะ
2. เลือกเดือนเพื่อดูรายการที่สิ้นอายุในเดือนนั้น
3. เลือกสถานะเพื่อดูรายการตามความเร่งด่วน

### 3. การจัดการข้อมูล
- ใช้ pagination เพื่อดูข้อมูลในหน้าถัดไป
- สามารถปรับจำนวนรายการต่อหน้าได้
- มีปุ่มรีเซ็ตตัวกรองเพื่อล้างการกรองทั้งหมด

## ประโยชน์

### 1. การวางแผนล่วงหน้า
- ช่วยให้วางแผนการติดต่อลูกค้าล่วงหน้า
- เตรียมทรัพยากรสำหรับการต่อภาษี

### 2. การลดความเสี่ยง
- ลดโอกาสที่ลูกค้าจะลืมต่อภาษี
- ป้องกันการเสียค่าปรับ

### 3. การบริการที่ดีขึ้น
- ติดต่อลูกค้าได้ทันเวลา
- ให้บริการที่เป็นมิตรกับลูกค้า

## การพัฒนาในอนาคต

### 1. ระบบแจ้งเตือน
- ส่ง SMS หรือ Email แจ้งเตือนลูกค้า
- แจ้งเตือนเจ้าหน้าที่เมื่อใกล้ถึงกำหนด

### 2. การรายงาน
- สร้างรายงานสถิติรายเดือน/รายปี
- วิเคราะห์แนวโน้มการต่อภาษี

### 3. การจัดการงาน
- สร้างงานติดตามอัตโนมัติ
- เชื่อมต่อกับระบบจัดการงาน

## หมายเหตุทางเทคนิค

### 1. การเชื่อมต่อข้อมูล
- ใช้ Google Apps Script API เดียวกับหน้าข้อมูลลูกค้า
- ข้อมูลจะอัปเดตแบบ real-time

### 2. การแสดงผล
- รองรับ Dark Mode
- Responsive design สำหรับอุปกรณ์ทุกขนาด
- ใช้ Tailwind CSS สำหรับ styling

### 3. การจัดการสถานะ
- สถานะจะคำนวณอัตโนมัติตามจำนวนวันที่เหลือ
- อัปเดตสถานะทุกครั้งที่โหลดหน้า

---

**สร้างเมื่อ**: 2024-12-01  
**เวอร์ชัน**: 1.0.0  
**ผู้พัฒนา**: ระบบจัดการงานบริการ ตรอ.บังรีท่าอิฐ 